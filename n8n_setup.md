# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ n8n Workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∂–∞–ª–æ–±

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∂–∞–ª–æ–±—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥—ã–π —á–∞—Å —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã:
- **–î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∂–∞–ª–æ–±**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∂–∞–ª–æ–±—É
- **–î–ª—è –∂–∞–ª–æ–± –æ–± –æ–ø–ª–∞—Ç–µ**: –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ Google Sheets –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∂–∞–ª–æ–±—É
- **–î–ª—è –¥—Ä—É–≥–∏—Ö –∂–∞–ª–æ–±**: –ª–æ–≥–∏—Ä—É–µ—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∂–∞–ª–æ–±—É

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (15 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ n8n

```bash
# –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -v ~/.n8n:/home/node/.n8n \
  n8nio/n8n

# –ò–ª–∏ —á–µ—Ä–µ–∑ npm
npm install n8n -g
n8n start

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker Compose (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
docker-compose up n8n
```

### –®–∞–≥ 2: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
- ‚úÖ **Telegram –±–æ—Ç** (—Å–º. `TELEGRAM_SETUP.md`)
- ‚úÖ **Google Sheets** (—Å–º. `GOOGLE_SHEETS_SETUP.md`)
- ‚úÖ **API —Å–∏—Å—Ç–µ–º–∞** (–∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ localhost:8000)

### –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç Workflow

1. **–û—Ç–∫—Ä–æ–π—Ç–µ n8n**: http://localhost:5678
2. **–ù–∞–∂–º–∏—Ç–µ "Import from file"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª** `n8n_workflow.json`
4. **–ù–∞–∂–º–∏—Ç–µ "Import"**

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í n8n –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings > Variables** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
GOOGLE_SHEETS_SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã
API_BASE_URL=http://localhost:8000
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### Telegram
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings > Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **"Add Credential"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Telegram"**
4. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

#### Google Sheets
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings > Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **"Add Credential"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Google Sheets"**
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∂–∞–ª–æ–±—ã
curl -X POST "http://localhost:8000/complaints/" \
  -H "Content-Type: application/json" \
  -d '{"text": "–¢–µ—Å—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∂–∞–ª–æ–±–∞ –¥–ª—è n8n"}'

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ workflow –≤ n8n
# –û—Ç–∫—Ä–æ–π—Ç–µ workflow –∏ –Ω–∞–∂–º–∏—Ç–µ "Execute Workflow"
```

## üîß –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

–°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `TELEGRAM_SETUP.md`:

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞** —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω** –∏ chat_id
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**:
   ```bash
   make telegram-test
   ```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets

–°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `GOOGLE_SHEETS_SETUP.md`:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –≤ Google Cloud Console
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**
3. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É** –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**:
   ```bash
   make sheets-test
   ```

#### 3. –ó–∞–ø—É—Å–∫ API —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
make run

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
make health

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∂–∞–ª–æ–±—ã
make create-complaint
```

### –ò–º–ø–æ—Ä—Ç Workflow

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ n8n**: http://localhost:5678
2. **–ù–∞–∂–º–∏—Ç–µ "Import from file"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª** `n8n_workflow.json`
4. **–ù–∞–∂–º–∏—Ç–µ "Import"**

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ API

```bash
curl -X POST "http://localhost:5678/api/v1/workflows" \
  -H "Content-Type: application/json" \
  -d @n8n_workflow.json
```

#### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Makefile

```bash
# –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Makefile
make n8n-import
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Workflow

### –£–∑–ª—ã Workflow

#### 1. Schedule Trigger
- **–¢–∏–ø**: Schedule Trigger
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ö–∞–∂–¥—ã–π —á–∞—Å
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å–∫–∞–µ—Ç workflow –∫–∞–∂–¥—ã–π —á–∞—Å

#### 2. Get Recent Complaints
- **–¢–∏–ø**: HTTP Request
- **–ú–µ—Ç–æ–¥**: GET
- **URL**: `{{ $env.API_BASE_URL }}/complaints/recent/`
- **Query Parameters**:
  - `hours`: `1`
  - `status`: `open`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ –∂–∞–ª–æ–±—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å

#### 3. Category Switch
- **–¢–∏–ø**: Switch
- **–ü—Ä–∞–≤–∏–ª–∞**:
  - **–ü—Ä–∞–≤–∏–ª–æ 1**: `{{ $json.category }}` equals `—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è`
  - **–ü—Ä–∞–≤–∏–ª–æ 2**: `{{ $json.category }}` equals `–æ–ø–ª–∞—Ç–∞`
  - **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –î—Ä—É–≥–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–∞–∑–¥–µ–ª—è–µ—Ç –∂–∞–ª–æ–±—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### 4. Telegram Notification (–¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∂–∞–ª–æ–±)
- **–¢–∏–ø**: Telegram
- **–û–ø–µ—Ä–∞—Ü–∏—è**: Send Message
- **Chat ID**: `{{ $env.TELEGRAM_CHAT_ID }}`
- **–¢–µ–∫—Å—Ç**: 
```
üö® –ù–æ–≤–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∂–∞–ª–æ–±–∞!

üìù ID: {{ $json.id }}
üìÑ –¢–µ–∫—Å—Ç: {{ $json.text }}
üòä –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: {{ $json.sentiment }}
üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ $json.category }}
üìç IP: {{ $json.ip }}
üïê –í—Ä–µ–º—è: {{ $now }}

‚ö†Ô∏è –°–ø–∞–º: {{ $json.spam_score > 0.5 ? '–î–∞' : '–ù–µ—Ç' }}
```

#### 5. Add to Google Sheets (–¥–ª—è –∂–∞–ª–æ–± –æ–± –æ–ø–ª–∞—Ç–µ)
- **–¢–∏–ø**: Google Sheets
- **–û–ø–µ—Ä–∞—Ü–∏—è**: Append
- **Document ID**: `{{ $env.GOOGLE_SHEETS_SPREADSHEET_ID }}`
- **Sheet Name**: `–õ–∏—Å—Ç1`
- **Columns**:
  - ID: `{{ $json.id }}`
  - –¢–µ–∫—Å—Ç: `{{ $json.text }}`
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `{{ $json.category }}`
  - –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: `{{ $json.sentiment }}`
  - –°—Ç–∞—Ç—É—Å: `{{ $json.status }}`
  - –î–∞—Ç–∞: `{{ $json.timestamp }}`
  - IP: `{{ $json.ip }}`
  - –°–ø–∞–º: `{{ $json.spam_score }}`

#### 6. Update Status (–¥–ª—è –≤—Å–µ—Ö –∂–∞–ª–æ–±)
- **–¢–∏–ø**: HTTP Request
- **–ú–µ—Ç–æ–¥**: PUT
- **URL**: `{{ $env.API_BASE_URL }}/complaints/{{ $json.id }}/`
- **Headers**: `Content-Type: application/json`
- **Body**: `{"status": "closed"}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –∂–∞–ª–æ–±—É

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–∑–ª–æ–≤

#### Schedule Trigger
```json
{
  "type": "n8n-nodes-base.scheduleTrigger",
  "position": [240, 300],
  "parameters": {
    "rule": {
      "interval": [{"field": "hour"}]
    }
  }
}
```

#### HTTP Request - Get Complaints
```json
{
  "type": "n8n-nodes-base.httpRequest",
  "position": [460, 300],
  "parameters": {
    "url": "{{ $env.API_BASE_URL }}/complaints/recent/",
    "method": "GET",
    "queryParameters": {
      "parameters": [
        {
          "name": "hours",
          "value": "1"
        },
        {
          "name": "status",
          "value": "open"
        }
      ]
    }
  }
}
```

#### Switch - Category Filter
```json
{
  "type": "n8n-nodes-base.switch",
  "position": [680, 300],
  "parameters": {
    "rules": {
      "rules": [
        {
          "conditions": {
            "string": [
              {
                "value1": "={{ $json.category }}",
                "operation": "equals",
                "value2": "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è"
              }
            ]
          }
        },
        {
          "conditions": {
            "string": [
              {
                "value1": "={{ $json.category }}",
                "operation": "equals",
                "value2": "–æ–ø–ª–∞—Ç–∞"
              }
            ]
          }
        }
      ]
    }
  }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Workflow

### 1. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
1. **–û—Ç–∫—Ä–æ–π—Ç–µ workflow** –≤ n8n
2. **–ù–∞–∂–º–∏—Ç–µ "Execute Workflow"**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∂–∞–ª–æ–±–∞ (–æ—Ç–ø—Ä–∞–≤–∏—Ç –≤ Telegram)
curl -X POST "http://localhost:8000/complaints/" \
  -H "Content-Type: application/json" \
  -d '{"text": "–°–∞–π—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É 500"}'

# –ñ–∞–ª–æ–±–∞ –æ–± –æ–ø–ª–∞—Ç–µ (–¥–æ–±–∞–≤–∏—Ç –≤ Google Sheets)
curl -X POST "http://localhost:8000/complaints/" \
  -H "Content-Type: application/json" \
  -d '{"text": "–ù–µ –º–æ–≥—É –æ–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑, –∫–∞—Ä—Ç–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è"}'

# –î—Ä—É–≥–∞—è –∂–∞–ª–æ–±–∞ (–ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è)
curl -X POST "http://localhost:8000/complaints/" \
  -H "Content-Type: application/json" \
  -d '{"text": "–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ?"}'
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

#### Google Sheets
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google Sheets —Ç–∞–±–ª–∏—Ü—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ

#### API
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∂–∞–ª–æ–±
curl "http://localhost:8000/complaints/"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–¥–∞–≤–Ω–∏—Ö –∂–∞–ª–æ–±
curl "http://localhost:8000/complaints/recent/?hours=1&status=open"
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: n8n –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
lsof -i :5678

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker ps | grep n8n

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ n8n
docker restart n8n
```

### –ü—Ä–æ–±–ª–µ–º–∞: Workflow –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ n8n
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** Telegram –∏ Google Sheets
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API**:
   ```bash
   curl "http://localhost:8000/health/"
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
echo $TELEGRAM_BOT_TOKEN
echo $TELEGRAM_CHAT_ID

# –¢–µ—Å—Ç Telegram
make telegram-test
```

### –ü—Ä–æ–±–ª–µ–º–∞: Google Sheets –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
echo $GOOGLE_SHEETS_SPREADSHEET_ID

# –¢–µ—Å—Ç Google Sheets
make sheets-test
```

### –ü—Ä–æ–±–ª–µ–º–∞: API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
make health

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ API
make run
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ n8n

```bash
# Docker –ª–æ–≥–∏
docker logs n8n

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f n8n

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
docker logs n8n | grep -i error
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow

1. **–û—Ç–∫—Ä–æ–π—Ç–µ n8n**: http://localhost:5678
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Executions"**
3. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

### –ú–µ—Ç—Ä–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
docker logs n8n | grep -c "Workflow executed"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
docker logs n8n | grep -c "Error"

# –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
docker logs n8n | grep "Execution time"
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã** –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ n8n —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** —Ç–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏
5. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
GOOGLE_SHEETS_SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã
API_BASE_URL=http://localhost:8000

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=secure_password
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [n8n Documentation](https://docs.n8n.io/)
- [n8n Workflow Examples](https://n8n.io/workflows)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Google Sheets API](https://developers.google.com/sheets/api)

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ n8n –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker run -it --rm \
  --name n8n-dev \
  -p 5678:5678 \
  -v ~/.n8n:/home/node/.n8n \
  -e N8N_LOG_LEVEL=debug \
  n8nio/n8n

# –≠–∫—Å–ø–æ—Ä—Ç workflow
curl -X GET "http://localhost:5678/api/v1/workflows" \
  -H "Authorization: Bearer YOUR_API_KEY" | jq

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f n8n | grep -E "(executed|error|warning)"
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π —á–∞—Å
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∂–∞–ª–æ–± —á–µ—Ä–µ–∑ API
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∂–∞–ª–æ–±
- Google Sheets —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∂–∞–ª–æ–± –æ–± –æ–ø–ª–∞—Ç–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∂–∞–ª–æ–±
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ production:

- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –ª–æ–≥–∏–∫–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã 